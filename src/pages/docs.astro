---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/layout/Header';
import Footer from '../components/layout/Footer';
import { SearchBar } from '../components/docs/SearchBar';
import { DocCategoryCard } from '../components/docs/DocCategoryCard';
import { DocArticleCard } from '../components/docs/DocArticleCard';
import { VideoCard } from '../components/docs/VideoCard';
import { SupportOptionCard } from '../components/docs/SupportOptionCard';
import Container from '../components/common/Container';

const categories = [
  { 
    title: 'Getting Started', 
    description: 'Quick start guides and installation instructions to get up and running',
    articleCount: 12,
    link: '#'
  },
  { 
    title: 'API Reference', 
    description: 'Complete API documentation with authentication and endpoint details',
    articleCount: 24,
    link: '#'
  },
  { 
    title: 'Integration Guides', 
    description: 'Step-by-step guides for connecting with third-party tools',
    articleCount: 18,
    link: '#'
  },
  { 
    title: 'Security Best Practices', 
    description: 'Expert recommendations for securing your infrastructure',
    articleCount: 15,
    link: '#'
  },
  { 
    title: 'Troubleshooting', 
    description: 'Solutions to common issues and error messages',
    articleCount: 32,
    link: '#'
  },
  { 
    title: 'Release Notes', 
    description: 'Latest updates, features, and improvements',
    articleCount: 48,
    link: '#'
  },
];

const popularArticles = [
  { title: 'Quick Start Guide: 5-Minute Setup', excerpt: 'Get your security platform configured and protecting your infrastructure in under 5 minutes.', tags: ['Beginner', 'Setup'], readTime: '5 min read', link: '#' },
  { title: 'Authentication Best Practices', excerpt: 'Implement secure authentication with our recommended patterns and examples.', tags: ['Security', 'API'], readTime: '8 min read', link: '#' },
  { title: 'SIEM Integration Tutorial', excerpt: 'Connect CyberSec Pro with your existing SIEM solution for unified threat visibility.', tags: ['Integration', 'Advanced'], readTime: '12 min read', link: '#' },
  { title: 'Troubleshooting Connection Errors', excerpt: 'Common connection issues and how to resolve them quickly.', tags: ['Troubleshooting'], readTime: '6 min read', link: '#' },
  { title: 'Custom Alert Rules Configuration', excerpt: 'Create custom detection rules tailored to your organization\'s security needs.', tags: ['Configuration', 'Advanced'], readTime: '10 min read', link: '#' },
  { title: 'API Rate Limits & Optimization', excerpt: 'Understanding and working within API rate limits for optimal performance.', tags: ['API', 'Performance'], readTime: '7 min read', link: '#' },
  { title: 'Webhook Configuration Guide', excerpt: 'Set up webhooks to receive real-time security event notifications.', tags: ['Integration', 'API'], readTime: '9 min read', link: '#' },
  { title: 'Multi-Factor Authentication Setup', excerpt: 'Enable and configure MFA for enhanced account security.', tags: ['Security', 'Setup'], readTime: '5 min read', link: '#' },
];

const videos = [
  { thumbnail: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&h=400&fit=crop', title: 'Platform Overview & Dashboard Tour', duration: '8:42', link: '#' },
  { thumbnail: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&h=400&fit=crop', title: 'Setting Up Your First Security Policy', duration: '12:15', link: '#' },
  { thumbnail: 'https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=600&h=400&fit=crop', title: 'API Integration Walkthrough', duration: '15:30', link: '#' },
];

const supportOptions = [
  {
    title: 'Live Chat',
    description: 'Get instant help from our support team. Available 24/7 for Enterprise customers.',
    link: '#',
    linkText: 'Start Chat'
  },
  {
    title: 'Email Support',
    description: 'Send us a detailed message and receive a response within 24 hours.',
    link: 'mailto:dce82@me.com',
    linkText: 'Send Email'
  },
  {
    title: 'Community Forum',
    description: 'Connect with other users, share tips, and find solutions together.',
    link: '#',
    linkText: 'Visit Forum'
  },
];
---

<BaseLayout title="Documentation & Help Center - CyberSec Pro" description="Comprehensive documentation, guides, and tutorials for CyberSec Pro. Get started quickly or explore advanced features.">
  <Header client:load />
  <!-- Hero Section -->
  <section class="hero">
    <Container client:load>
      <div class="hero-content">
        <span class="badge">Help Center</span>
        <h1 class="title">How can we help?</h1>
        <p class="subtitle">Search our documentation or browse by category to find what you need</p>
        
        <div class="search-wrapper">
          <SearchBar client:load />
        </div>
      </div>
    </Container>
  </section>

  <!-- Quick Links / Categories -->
  <section class="categories-section">
    <Container client:load>
      <h2 class="section-header">Browse Documentation</h2>
      <div class="categories-grid">
        {categories.map((cat, i) => (
          <DocCategoryCard 
            client:load
            iconIndex={i}
            title={cat.title}
            description={cat.description}
            articleCount={cat.articleCount}
            link={cat.link}
          />
        ))}
      </div>
    </Container>
  </section>

  <!-- Popular Articles -->
  <section class="articles-section">
    <Container client:load>
      <h2 class="section-header">Popular Articles</h2>
      <div class="articles-grid">
        {popularArticles.map(article => (
          <DocArticleCard client:load {...article} />
        ))}
      </div>
    </Container>
  </section>

  <!-- Video Tutorials -->
  <section class="videos-section">
    <Container client:load>
      <h2 class="section-header">Video Tutorials</h2>
      <div class="videos-grid">
        {videos.map(video => (
          <VideoCard client:load {...video} />
        ))}
      </div>
    </Container>
  </section>

  <!-- Support Options -->
  <section class="support-section">
    <Container client:load>
      <h2 class="section-header">Still Need Help?</h2>
      <div class="support-grid">
        {supportOptions.map((option, i) => (
          <SupportOptionCard 
            client:load
            iconIndex={i}
            title={option.title}
            description={option.description}
            link={option.link}
            linkText={option.linkText}
          />
        ))}
      </div>
    </Container>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <Container client:load>
      <div class="cta-content">
        <h2 class="cta-title">Can't Find What You're Looking For?</h2>
        <p class="cta-subtitle">Our support team is here to help. Get in touch and we'll respond within 24 hours.</p>
        <div class="cta-buttons">
          <a href="/contact" class="button-primary">Contact Support</a>
          <a href="/resources" class="button-secondary">Browse Resources</a>
        </div>
      </div>
    </Container>
  </section>
  <Footer />
</BaseLayout>

<style>
  .hero {
    padding-top: 8rem;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #0a0e1a;
    color: #f8fafc;
    line-height: 1.5;
  }

  /* Hero */
  .hero {
    background: linear-gradient(135deg, #0a0e1a 0%, #1e3a8a 100%);
    padding: 8rem 0 4rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 800px;
    margin: 0 auto;
  }

  .badge {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: rgba(6, 182, 212, 0.1);
    border: 1px solid rgba(6, 182, 212, 0.2);
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 600;
    color: #22d3ee;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 1.5rem;
  }

  .title {
    font-size: 3.5rem;
    font-weight: 800;
    line-height: 1.1;
    letter-spacing: -0.025em;
    margin-bottom: 1.5rem;
  }

  .subtitle {
    font-size: 1.25rem;
    color: #94a3b8;
    line-height: 1.6;
    margin-bottom: 3rem;
  }

  .search-wrapper {
    max-width: 600px;
    margin: 0 auto;
  }

  /* Sections */
  .categories-section,
  .articles-section,
  .videos-section,
  .support-section,
  .cta-section {
    padding: 4rem 0;
  }

  .section-header {
    font-size: 2rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 3rem;
  }

  .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2rem;
  }

  .articles-grid {
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .videos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .support-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  /* CTA */
  .cta-section {
    background: linear-gradient(135deg, rgba(6, 182, 212, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
    border-top: 1px solid rgba(148, 163, 184, 0.1);
  }

  .cta-content {
    text-align: center;
    max-width: 700px;
    margin: 0 auto;
  }

  .cta-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .cta-subtitle {
    font-size: 1.125rem;
    color: #94a3b8;
    margin-bottom: 2rem;
  }

  .cta-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .button-primary,
  .button-secondary {
    padding: 1rem 2rem;
    border-radius: 0.5rem;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.2s ease;
    text-decoration: none;
  }

  .button-primary {
    background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
    color: white;
    box-shadow: 0 4px 20px rgba(6, 182, 212, 0.4);
  }

  .button-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(6, 182, 212, 0.5);
  }

  .button-secondary {
    background: rgba(15, 22, 41, 0.8);
    color: #f8fafc;
    border: 1px solid rgba(148, 163, 184, 0.2);
  }

  .button-secondary:hover {
    border-color: rgba(6, 182, 212, 0.3);
    background: rgba(21, 28, 50, 0.9);
  }

  @media (max-width: 768px) {
    .title {
      font-size: 2.5rem;
    }

    .categories-grid,
    .videos-grid,
    .support-grid {
      grid-template-columns: 1fr;
    }

    .cta-title {
      font-size: 2rem;
    }
  }
</style>
